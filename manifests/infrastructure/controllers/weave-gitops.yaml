apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  creationTimestamp: null
  name: oidc-auth
  namespace: flux-system
spec:
  encryptedData:
    clientID: AgCDtnrLQj9GVHDPxMWiBR8OWz5QtbAraaGn4R08pcjhCV7cs9BEzFglTk0QhjDXWFKtXa3GtzTwspOGsRiR30CTNs3VpoQP+F32AkzFfO5asKrKQk3Ed6sLPXKSBF+rAEop1DmKndwgz8mLO0aNT+JVPqT23xhz/kdqZzePPoXXH6a7YfzD3jvGmD7qyn4fHI7Y7PZENnXQ0M+qO2DzU+zXqnqTOHjllt1K0jfL5juKcvbMekzVLUW4HA5wiy/TOrsH2ovT64U4KxYajWUqEcWf4OjhRM2SrISWBVF6a9XSuTTKoFYyS+1cUPI1CGResZUth3PmG78iP43EJJkPGH+FlHByOKhIKFtHwxfnF29Ct3Hgx6hjoEfpNa4ibzR7i3TP94Rl28eGt/ZNpEREGcMcsroPTARCa9HN7m09Fto9XkIyzdfac1ysjWW7On6KzIDzHDxGfmgpY1YnTEKLNiGJKc0QyuIYkFSteSuZOUtJpcY7T2KhyG/xGbJGr7UB0mUL+jX91LQtD8+qmtwk6xDNXBPuDPkcrfiE8yZ1gkQrEUCaHYpsukSRR0vzdNS04fWuTE6KbJaU+j66/hxpd5BfgFY8VleoblemxmwJRUO4URsiwMkBrvJ0Y7H1pq0Wi1BHybMXklVduemUPIjeGpvlwbpXEEUXtgNigiNS0QOy+6+94cW3V7ock5yXPnUm5DtL0Bs8n3kjchYvujjhM2kQicVSNqWKwl27MTotwVlD7HgNt1ueTz6pOQrNDFFZ8sSUDuM6aYSRXTaPvsqRxXiTMc5Jv9CTV2Y=
    clientSecret: AgDD9rc+n4CPmpChesepo8ajIkQ4Owdno8MNjq/UtYhZ8w+IlrCXv9+1BAoTatWzu9wUPn/cv9NXpX2xFDpqfJTzdEsMQRcZEMEP5C1Th3hMZ3SF+ADGzhnjIxJcBVCLmtcXXoggHzdCdo+DBMHXBKKj1aNA2CaI81iHLP0GT80qfmNxiZQwQvX3xxVrhIMQm3A9a4A0Zy34M4vyIH7hbudCsHdYUCOdDVCOgXsm7iu5iVZQAquSoTjQXWzAZxSQ9mBE8SSwem1WPSLOBDGeGf9a1NYuAoE03Nm4cmSyVQhF4CJI5raxceek4pgZAvFhxfxDjvJ05wSj0WEsz3Ii5Xg67rcxAJLp1TdvQmv6+RQfZMBcpBMaMKXfnU9yWRg2EGkFOPs/PrbigGFQpIDtS+i6lEmdIDiynlCYlGzcDt85SzVEzt7o6O9E2+lwjbaExsPNZErx1Ad8Ln08GD3TWkrg9Me9NFs/4bwJ7AW1GXyO0y4h8cvQWZcqGNfGKL1soMu8XktiDi2JGHybczTViYzKGsYsMzsHFy7XJqWGUg5vOYPTNFNjWREVuTuyCXq7lxJv5qg1kRny7eqTVzYxCWixhG/Sk1Wil3gN9bY7vOYqXuuaZWbq2I1EJt4yeb8z9eQTVbXCm3jHB8vvEmhBiX3V/IkarImX4jcQ18oXSLBHXCPqvVR5q17tsCtnuH4EgBEawfDqvncHaTDm9rHxTKdl/XdgeEcWEoH8N7x3ttm3T2o/DA==
    customScopes: AgC4Kbu0T8i0CQaPaUUsokk6f650L5yH5d6k6ci/ONMz4RHotHf/2kLhIT1lD9NKGTZtltA6qL/JH6SqoZmXJUg11Cn/616KGGMeIB5z46CrJ6FxY6g4Pk1yfVNJov/QDwJcfi0Rri0XMR8kwqh3M0SYydovPZ6JnsCoh3HWnNCXtGIghj+2WqdTRyKAgo9wl4phuchfXWXo6XmvFgar4bAlaCHiIZCaRikuxYHtoO7sv1GAYfkmNI/J+tCTehDM58BaK4x03ppBl4rXy4yRTKdMwD03bvmaQcDdS+ahiNzR1ibJMqk+PfTnSHIEqvmxe+NHKxBSA2TrDw8US7Bo7wS5NZ9tSmJVJRXltFS5FQ688CZhVHRqeUSu00Cc7imEEIjBZXJXSZqIsFeQrBIKJObMVSuGDsi/LihDXF2Ukyi6Py6YXEP2Fu0nRrTvHln+fzK5+AQxpeOMYZF6ifwU2WCQN9c+z8DmI97BZIxgWMTaiqEtksyj2Oyb03DtKVC4XKm+PPgGClrDcIuxl2qtLPf/HP71rhkq0KJWETXKA+JSHXYhOcIEDW0cMUBPgxyCLARO5nRZ8FrxogCkAMR4S/3l4jAfqdj2Iw8fEqbcc3by+anynKKPR9alSXlukYVRDHI9XPERqVWFwz0F9RDW69OCFFtAYTp9FuVyCUUz6V8HtTep2mi5O4Jcx0fqSlFtVtYuAUF8PkMtHK1rCR8=
    issuerURL: AgAjV7i5mZQs8IUm6gq1yPE48ainApdMa2rpBY2fEOhgS+ODfK/WotGWG1XXjSq8tXIJjcmTDUIJhfJwMShyuKUhbHAhuK3MPwyIe3N2K2hzS0qMEes/iddBaKdqkR7/irXmkDQC1E8p7SW5NxYx9c8Z96eK2CYIpLqszRqh4y8yIi+NUNqdgVSkTK6sUBMtM7rbjBQYhZasZrGzQZfbg6jB4ila3Ult+ULNSEcFtadXcqJPdeqOSl93yvwN3k3ZNKeY/8IygNk+fV9iL14stwkYZG7H2GptQ7QmngD1A7Cd6LmaBMl73n3Y5DkvqUFZRcEs5pckO9Wr4i5XreVlT4jri8QPLeb81sKm7NMcoQ8XPy5iuvh0ek1n0Ci4lKme7JWPAAWmy7uZXnmus2eP7hisgOVrpUGLDl+Lo/Ffk2MjqgDyRUglEVSLmkWTeWMLYvs8qYKDUB9dh7plE/O8S3qkcml1k92V4sS37fkRxF+2mrYLIsN3xQzOYWQKWaAt4SXrmkFQAxRtD+9EZ8TOUb2nqH5JHbb+XOK8hCvZ3NrEOfe9bUoS+sMSh1Y5HQOgky+Wv8zvZpl4yLMeSDeJRSoLOQ3bbsSdwRGOYRrFmKnZSuNz8ykNffmf5CmSlDKsSNXEnjHsyp5GRrP2VSBf+wOuFgFplVuAgvxIunZIKqORW178aiIJ/uroq9wtV4RAgKSkuyCKDsVcO/V0jhraM38aQB76+w/W740PAgI=
    redirectURL: AgCK+hmHKtVverIWc1GA2M3Zt3QRkwp0K+oWeths94P4RMzkZUQkl7wTX8zF6M6TQWN4hK+St5zz5biCyW6ZJCGquQDtD5WMaVjII5QrMDegdfvg4zWE1NPiZ2fEOJqX71nZa8m9SdqDJBLohbdxJLMXU2+jiHZMIUPU1WskZJf7QMrvVzUUwvjQ8HhjPrb6RMAiPGKJr3BFShQ97HPlPQfnhxW6h48v+/7iIxXvDL1MEcnCPKpPxjuU0VMKGIre6sRlOLokUcCRPDQcH5mNuSz1H3P9c4l2IC1w2d+f9P4L6BTyDpLODPnCS99ZSUgQeG52AgHvT7bJA18Ow0g3WiAeJ/ja6VB+4e6bnQh9wWC5kD7WFDlOiYPNaY8IIjN/QV9mi5hGx5SotK3iXDD9xC7mhuvTdzgeUCoejaPkkmA8xunKp6Z5IiEvowXUow6c6VVY/I3w7HHQah10IO++MSrbAbvxqqYi1Zha2elJ6BwiCiZGzKrxylQoJxk9T1h6xC6f2rdXFNVmLoBq90JIa4R4NS9v91rm/jszwMEx3QEqfV2/c9XFr+OsJts7DoUGJXVNQZTD3mkjxkFlWHZEm+Dt+n7GTlX2BuEriBK77pTAvd8Hq37MycArx6sCY2QjUlQjEDfiI7bHmGOV9GGHaacQWBj/7poOCvmWLWpVmMHNyR7jDn6fxm5bP/atatRF4wfKs1izCj8zsNh9YQuxjoXAYw0yCEuzfeFB6L0ATAU8g6XGFAxpm8BJjT7OuSC/UpsTl2TMTmp2Vpit0ms=
  template:
    metadata:
      creationTimestamp: null
      name: oidc-auth
      namespace: flux-system
---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: weave-gitops
  namespace: flux-system
spec:
  releaseName: weave-gitops
  interval: 5m

  chart:
    spec:
      chart: weave-gitops
      version: 4.0.35
      sourceRef:
        kind: HelmRepository
        name: weave-gitops
        namespace: flux-system

  values:
    resources:
      requests:
        cpu: 100m
        memory: 64Mi
      limits:
        cpu: 1
        memory: 512Mi

    securityContext:
      capabilities:
        drop:
          - ALL
      readOnlyRootFilesystem: true
      runAsNonRoot: true
      runAsUser: 1000

    oidcSecret:
      create: false

    metrics:
      enabled: false

    ingress:
      enabled: false
      className: traefik
      annotations:
        kubernetes.io/tls-acme: "true"
        cert-manager.io/cluster-issuer: letsencrypt-staging
        traefik.ingress.kubernetes.io/router.middlewares: ingress-forward-auth@kubernetescrd
      hosts:
        - host: weave-gitops.cluster.rebelinblue.com
          paths:
            - path: /
              pathType: ImplementationSpecific
      tls:
      - secretName: weave-gitops-tls
        hosts:
          - weave-gitops.cluster.rebelinblue.com